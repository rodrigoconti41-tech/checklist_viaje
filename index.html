<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Move ‚Äî Migration Planner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="icon" href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 32'>
<rect width='64' height='16' y='0' fill='%2374acdf'/>
<rect width='64' height='8' y='16' fill='%23ffffff'/>
<rect width='64' height='8' y='24' fill='%23aa151b'/>
</svg>">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Cinzel:wght@400;600&display=swap" rel="stylesheet">

<style>
/* ==== DESIGN SYSTEM ==== */
:root{
  --bg:#f6f3ec; --surface:#fff; --text:#1f2937; --muted:#6b7280;
  --gold:#c6a24f; --red:#b13b3b; --blue:#2c3e73; --border:#e5e1d8;
  --radius:22px; --shadow:0 14px 34px rgba(0,0,0,0.08);
}

/* ==== RESET ==== */
*{box-sizing:border-box;margin:0;padding:0;}

/* ==== BASE ==== */
body{
  font-family:'Inter',sans-serif;
  background:linear-gradient(180deg,#f9f6ef,#f3efe6);
  padding:40px 20px;
  color:var(--text);
}

.app{max-width:1200px;margin:auto;}

/* ==== HEADER ==== */
.branding{
  background:var(--surface);
  padding:32px;
  border-radius:36px;
  border:2px solid var(--gold);
  box-shadow:var(--shadow);
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:24px;
  flex-wrap:wrap;
}

.brand-title{
  font-family:'Cinzel',serif;
  font-size:2.4rem;
  letter-spacing:0.12em;
  color:var(--blue);
}

.brand-sub{color:var(--muted);margin-top:4px;}

.countdown{color:var(--red);font-weight:600;}

/* ==== VIEWS ==== */
.view{display:none;}
.view.active{display:block;}

/* ==== CONFIG ==== */
.config{
  background:var(--surface);
  padding:24px;
  border-radius:var(--radius);
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  margin-bottom:24px;
}

.config h2{
  font-family:'Cinzel',serif;
  color:var(--red);
  margin-bottom:12px;
}

.config-row{display:flex;gap:12px;margin-bottom:12px;flex-wrap:wrap;}

input,select{
  padding:6px 10px;
  border-radius:8px;
  border:1px solid var(--border);
}

button{
  padding:10px 18px;
  border-radius:999px;
  border:none;
  background:var(--blue);
  color:white;
  font-weight:600;
  cursor:pointer;
}

/* ==== GRID ==== */
.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:20px;
  margin-bottom:24px;
}
@media(max-width:900px){.grid{grid-template-columns:1fr;}}

/* ==== CARD ==== */
.card{
  background:var(--surface);
  padding:24px;
  border-radius:var(--radius);
  border:1px solid var(--border);
  box-shadow:var(--shadow);
}

.card h2{
  font-family:'Cinzel',serif;
  color:var(--red);
  text-align:center;
  margin-bottom:12px;
}

/* ==== LIST ==== */
ul{list-style:none;}

li{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px solid var(--border);
  gap:8px;
}
li:last-child{border-bottom:none;}

.item{flex:1;font-size:0.9rem;}

.link{
  font-size:0.7rem;
  padding:3px 8px;
  border-radius:999px;
  background:rgba(198,162,79,0.15);
  color:var(--blue);
  text-decoration:none;
}

/* ==== FOOTER / PROGRESS ==== */
.footer{
  background:var(--surface);
  padding:24px;
  border-radius:var(--radius);
  border:2px solid var(--gold);
  box-shadow:var(--shadow);
}

.progress-wrap{
  display:flex;
  align-items:center;
  gap:10px;
}

.progress-container{
  position:relative;
  flex:1;
  height:16px;
  background:#e5e1d8;
  border-radius:8px;
  overflow:hidden;
}

.progress-bar{
  height:100%;
  background:linear-gradient(90deg,var(--blue),var(--gold),var(--red));
  width:0%;
  transition:0.4s;
}

.plane{
  position:absolute;
  top:-14px;
  transform:translateX(-50%);
  transition:0.4s;
  font-size:1.3rem;
}

/* ==== MODAL ==== */
#successModal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.4);
  align-items:center;
  justify-content:center;
  z-index:999;
}

#successModal .box{
  background:white;
  padding:40px 32px;
  border-radius:24px;
  text-align:center;
  max-width:420px;
  box-shadow:0 20px 40px rgba(0,0,0,0.2);
}
</style>
</head>
<body>

<div class="app">

<div class="branding">
  <div>
    <div class="brand-title">MOVE</div>
    <div class="brand-sub">Tu mudanza, dise√±ada con calma.</div>
  </div>
  <div class="countdown" id="countdown">Eleg√≠ fecha</div>
</div>

<div id="configView" class="view active">
  <div class="config">
    <h2>Configuraci√≥n</h2>
    <div class="config-row">
      <label>Fecha del viaje <input type="datetime-local" id="dateInput"></label>
    </div>
    <div class="config-row">
      <label>Personas <input type="number" id="peopleCount" min="1" max="5" value="2"></label>
    </div>
    <div id="peopleConfig"></div>
    <button onclick="start()">Continuar</button>
  </div>
</div>

<div id="appView" class="view">
  <div class="grid" id="checklistGrid"></div>

  <div class="footer">
    <div class="progress-wrap">
      <span>üá¶üá∑</span>
      <div class="progress-container">
        <div class="progress-bar" id="bar"></div>
        <div class="plane" id="plane">‚úàÔ∏è</div>
      </div>
      <span>üá™üá∏</span>
    </div>
  </div>
</div>

</div>

<div id="successModal">
  <div class="box">
    <h2>üéâ ¬°Lo lograste!</h2>
    <p>Yo sab√≠a que vos pod√≠as lograrlo.<br><strong>Buen viaje.</strong> ‚úàÔ∏èüíõ</p>
    <button onclick="document.getElementById('successModal').style.display='none'">Cerrar</button>
  </div>
</div>

<script>
/* ==== TASK DEFINITIONS ==== */
const TASKS = {
  eu: [
    ["Empadronamiento","https://www.boe.es"],
    ["Cuenta bancaria",""],
    ["Canje licencia","https://www.dgt.es"],
    ["Alta seguridad social","https://www.seg-social.es"],
    ["M√©dico de cabecera",""]
  ],
  noEu: [
    ["Solicitud visa","https://www.exteriores.gob.es"],
    ["NIE","https://sede.administracionespublicas.gob.es"],
    ["TIE","https://sede.administracionespublicas.gob.es"],
    ["Antecedentes penales","https://www.argentina.gob.ar/justicia/reincidencia"],
    ["Seguro m√©dico","https://www.axa-schengen.com"],
    ["Reserva alojamiento","https://www.airbnb.com"]
  ]
};

let people=[];
let successShown=false;

/* ==== CONFIG ==== */
peopleCount.onchange=renderPeopleConfig;
dateInput.onchange=startCountdown;

function renderPeopleConfig(){
  const n=+peopleCount.value;
  people=[];
  peopleConfig.innerHTML="";
  for(let i=0;i<n;i++){
    const row=document.createElement("div");
    row.className="config-row";
    row.innerHTML=`
      <input placeholder="Nombre" onchange="people[${i}]={...people[${i}],name:this.value}">
      <select onchange="people[${i}]={...people[${i}],eu:this.value==='yes'}">
        <option value="no">Sin ciudadan√≠a UE</option>
        <option value="yes">Con ciudadan√≠a UE</option>
      </select>`;
    peopleConfig.appendChild(row);
  }
}
renderPeopleConfig();

/* ==== FLOW ==== */
function start(){
  configView.classList.remove("active");
  appView.classList.add("active");
  renderChecklist();
}

/* ==== RENDER ==== */
function renderChecklist(){
  checklistGrid.innerHTML="";
  people.forEach((p,i)=>{
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`<h2>${p.name||"Persona "+(i+1)}</h2><ul></ul>`;
    const ul=card.querySelector("ul");

    const tasks=p.eu?TASKS.eu:TASKS.noEu;
    tasks.forEach(([text,link])=>{
      const li=document.createElement("li");
      li.innerHTML=`
        <span class="item">${text}</span>
        <select onchange="updateProgress()"><option>Pendiente</option><option>Hecho</option></select>
        ${link?`<a class="link" href="${link}" target="_blank">Abrir gu√≠a</a>`:""}`;
      ul.appendChild(li);
    });

    checklistGrid.appendChild(card);
  });
  updateProgress();
}

/* ==== PROGRESS ==== */
function updateProgress(){
  let total=0,done=0;
  document.querySelectorAll("#checklistGrid select").forEach(s=>{
    total++;
    if(s.value==="Hecho") done++;
  });
  const percent=total?done/total*100:0;
  bar.style.width=percent+"%";
  plane.style.left=percent+"%";

  if(percent===100 && !successShown){
    successShown=true;
    successModal.style.display="flex";
  }
}

/* ==== COUNTDOWN ==== */
let timer=null;
function startCountdown(){
  if(timer) clearInterval(timer);
  if(!dateInput.value) return;
  const target=new Date(dateInput.value);
  timer=setInterval(()=>{
    const now=new Date();
    let diff=target-now; if(diff<0) diff=0;
    const s=Math.floor(diff/1000)%60;
    const m=Math.floor(diff/60000)%60;
    const h=Math.floor(diff/3600000)%24;
    const d=Math.floor(diff/86400000)%30;
    const mo=Math.floor(diff/2592000000);
    countdown.textContent=`${mo}m ${d}d ${h}h ${m}m ${s}s`;
  },1000);
}
</script>

</body>
</html>
